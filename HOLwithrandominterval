// ==UserScript==
// @name         HigherLower
// @namespace    http://tampermonkey.net/
// @version      0.1
// @description  try to take over the world!
// @author       Bokuto
// @match        https://pokeheroes.com/gc_hol*
// @icon         https://www.google.com/s2/favicons?sz=64&domain=pokeheroes.com
// @grant        none
// ==/UserScript==

(function () {
    'use strict';

    // Function to click the "Try Again!" link
    function clickTryAgain() {
        var tryAgainElements = document.querySelectorAll('p');
        for (var i = 0; i < tryAgainElements.length; i++) {
            if (tryAgainElements[i].textContent.includes('Try again!')) {
                var anchorTag = tryAgainElements[i].querySelector('a');
                if (anchorTag) {
                    anchorTag.click();
                }
                break;
            }
        }
    }

    // Function to set bet input and click submit
    function setBetAndSubmit() {
        var betInput = document.querySelector('input[name="bet"]');
        if (betInput) {
            betInput.value = 100;
            document.querySelector('input[type="submit"]').click();
        }
    }

    // Function to click "Higher" or "Lower" based on span value
    function clickHigherOrLower() {
        const spanValue = parseInt(document.querySelector('.bluecell span').innerText.trim());
        if (spanValue >= 5) {
            document.querySelector('.bluecell input[value="Lower"]').click();
        } else if (spanValue < 5) {
            document.querySelector('.bluecell input[value="Higher"]').click();
        }
    }

    // Function to get a random interval between 1 and 1.5 seconds
    function getRandomInterval() {
        return Math.floor(Math.random() * (1500 - 1000 + 1)) + 1000;
    }

    // Initial run of functions with a random delay
    setTimeout(function () {
        clickTryAgain();
        setBetAndSubmit();
        clickHigherOrLower();

        // Set interval to run functions with a random delay
        setInterval(function () {
            clickTryAgain();
            setBetAndSubmit();
            clickHigherOrLower();
        }, getRandomInterval());
    }, getRandomInterval());

    // Your code here...
})();
